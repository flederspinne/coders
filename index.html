<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Coders</title>
    <link rel="stylesheet" href="reset_CSS.css">
    <link rel="stylesheet" href="style.css">
    <script src="jquery-3.2.1.min.js"></script>
    <script src="main.js"></script>
    <script src="functions.js"></script>
    <script src="classes.js"></script>
</head>
<body>

<div id="choose_human_form" class="info_fields">
    <p class="text_center">Добавьте сотрудника:</p>
    <select id="human_selection" class="field choose_human_form_input">
        <option value="coder" id="select_coder">Программист</option>
        <option value="tester" id="select_tester">Тестировщик</option>
        <option value="techwriter" id="select_techwriter">Технический писатель</option>
        <option value="designer" id="select_designer">Дизайнер</option>
        <option value="manager" id="select_manager">Менеджер</option>
    </select>
    <button id="submit_choose_human_form" class="button">Выбрать</button>
</div>

<div id="add_coder_form" class="info_fields">
    <div class="add_form_group_span">
        <span class="add_form_text">Имя:</span>
        <span class="add_form_text">Пол:</span>
        <span class="add_form_text">Опыт:</span>
        <span class="add_form_text">Язык:</span>
    </div>

    <div class="add_form_group_input">
        <input type="text" id="coder_name" name="name" class="add_form_input"/><br>
        <input type="radio" id="coder_gender_m" value="m" name="gender" />
            <span class="add_form_text">М</span>
        <input type="radio" id="coder_gender_f" value="f" name="gender" />
            <span class="add_form_text">Ж</span><br>
        <input type="text" id="coder_skill" name="skill" class="add_form_input"/>
        <input type="text" id="coder_lang_0" name="lang" class="add_form_input"/>
        <button id="add_coder_lang" class="button">+</button>
    </div>
    <br>
    <button id="submit_add_coder_form" class="button">Готово</button>
</div>

<div id="add_tester_form" class="info_fields">
    <div class="add_form_group_span">
        <span class="add_form_text">Имя:</span>
        <span class="add_form_text">Пол:</span>
        <span class="add_form_text">Опыт:</span>
    </div>

    <div class="add_form_group_input">
        <input type="text" id="tester_name" name="name" class="add_form_input"/><br>
        <input type="radio" id="tester_gender_m" value="m" name="gender" />
        <span class="add_form_text">М</span>
        <input type="radio" id="tester_gender_f" value="f" name="gender" />
        <span class="add_form_text">Ж</span><br>
        <input type="text" id="tester_skill" name="skill" class="add_form_input"/>
    </div>
    <br>
    <button id="submit_add_tester_form" class="button">Готово</button>
</div>

<div id="add_techwriter_form" class="info_fields">
    <div class="add_form_group_span">
        <span class="add_form_text">Имя:</span>
        <span class="add_form_text">Пол:</span>
        <span class="add_form_text">Опыт:</span>
    </div>

    <div class="add_form_group_input">
        <input type="text" id="techwriter_name" name="name" class="add_form_input"/><br>
        <input type="radio" id="techwriter_gender_m" value="m" name="gender" />
        <span class="add_form_text">М</span>
        <input type="radio" id="techwriter_gender_f" value="f" name="gender" />
        <span class="add_form_text">Ж</span><br>
        <input type="text" id="techwriter_skill" name="skill" class="add_form_input"/>
    </div>
    <br>
    <button id="submit_add_techwriter_form" class="button">Готово</button>
</div>

<div id="add_designer_form" class="info_fields">
    <div class="add_form_group_span">
        <span class="add_form_text">Имя:</span>
        <span class="add_form_text">Пол:</span>
        <span class="add_form_text">Опыт:</span>
    </div>

    <div class="add_form_group_input">
        <input type="text" id="designer_name" name="name" class="add_form_input"/><br>
        <input type="radio" id="designer_gender_m" value="m" name="gender" />
        <span class="add_form_text">М</span>
        <input type="radio" id="designer_gender_f" value="f" name="gender" />
        <span class="add_form_text">Ж</span><br>
        <input type="text" id="designer_skill" name="skill" class="add_form_input"/>
        <input type="text" id="designer_lang_0" name="lang" class="add_form_input"/>
        <button id="add_designer_lang" class="button">+</button>
    </div>
    <br>
    <button id="submit_add_designer_form" class="button">Готово</button>
</div>

<div id="add_manager_form" class="info_fields">
    <div class="add_form_group_span">
        <span class="add_form_text">Имя:</span>
        <span class="add_form_text">Пол:</span>
        <span class="add_form_text">Опыт:</span>
    </div>

    <div class="add_form_group_input">
        <input type="text" id="manager_name" name="name" class="add_form_input"/><br>
        <input type="radio" id="manager_gender_m" value="m" name="gender" />
        <span class="add_form_text">М</span>
        <input type="radio" id="manager_gender_f" value="f" name="gender" />
        <span class="add_form_text">Ж</span><br>
        <input type="text" id="manager_skill" name="skill" class="add_form_input"/>
    </div>
    <br>
    <button id="submit_add_manager_form" class="button">Готово</button>
</div>

<p id="wanna_add_another_human" class="text label">Добавить ещё сотрудника или перейти к настройкам?</p>

<button id="button_settings" class="button button_big">Настройки</button>

<div id="settings_form" class="settings_fields">
    <div class="add_form_group_span">
        <label for="emergency_checkbox">Режим аварии</label>
        <span class="add_form_text">Время на проект:</span>
    </div>
    <div class="add_form_group_input">
        <input id="emergency_checkbox" type="checkbox">
        <input type="text" id="time_for_project_input" class="add_form_input"/>
        <span class="add_form_text">рабочих дней</span>
    </div>
    <button id="button_simulation_start" class="button button_big">Начать симуляцию</button>
</div>

<script>

    // Ограничения области видимости не позволяют перенести код в какой-то из модулей.
    $('#submit_choose_human_form').click(function() {
        $('#choose_human_form').css("visibility", "hidden");
        $('#wanna_add_another_human').css("visibility", "hidden");
        $('#button_settings').css("visibility", "hidden");
        $('#add_' + $('#human_selection').val() + '_form').css("visibility", "visible");
    });

    // -----------------------------------------------------------------------------------------------------------------

    $('#submit_add_coder_form').click(function() {
        get_gender();

        let coder_lang_arr = [];
        for (let i = 0; i <= coder_lang_index; i++) {
            coder_lang_arr[coder_lang_arr.length] = $('#coder_lang_' + i).val();
        }
        add_human ("coder", coders, $('#coder_name').val(), gender_val, $('#coder_skill').val(),
            coder_lang_arr);
    });

    $('#submit_add_tester_form').click(function() {
        get_gender();

        add_human ("tester", testers, $('#tester_name').val(), gender_val, $('#tester_skill').val());
    });

    $('#submit_add_techwriter_form').click(function() {
        get_gender();

        add_human ("techwriter", techwriters, $('#techwriter_name').val(), gender_val, $('#techwriter_skill').val());
    });

    $('#submit_add_designer_form').click(function() {
        get_gender();

        let designer_lang_arr = [];
        for (let i = 0; i <= designer_lang_index; i++) {
            designer_lang_arr[designer_lang_arr.length] = $('#designer_lang_' + i).val();
        }
        add_human ("designer", designers, $('#designer_name').val(), gender_val, $('#designer_skill').val(),
            designer_lang_arr);
    });

    $('#submit_add_manager_form').click(function() {
        get_gender();

        add_human ("manager", managers, $('#manager_name').val(), gender_val, $('#manager_skill').val());
    });

    // -----------------------------------------------------------------------------------------------------------------

    $('#add_coder_lang').click(function () {
        if (coder_lang_index <= 7) {
            $('#coder_lang_' + coder_lang_index).after("<br><input type=\"text\" id='coder_lang_" +
                (coder_lang_index + 1) + "' name=\"lang'\" class=\"add_form_input\"/>");
            coder_lang_index++;
        }
    });

    $('#add_designer_lang').click(function () {
        $('#designer_lang_' + designer_lang_index).after("<br><input type=\"text\" id='designer_lang_" +
            (designer_lang_index + 1) + "' name=\"lang'\" class=\"add_form_input\"/>");
        designer_lang_index++;
    });

    // -----------------------------------------------------------------------------------------------------------------

    $('#button_settings').click(function () {
        $('#wanna_add_another_human').css("visibility", "hidden");
        $('#choose_human_form').css("visibility", "hidden");
        $('#button_settings').css("visibility", "hidden");
        $('#settings_form').css("visibility", "visible");
    });

    // -----------------------------------------------------------------------------------------------------------------

    $('#button_simulation_start').click(function () {
        document.location.href = "simulation.html";
    });

    // -----------------------------------------------------------------------------------------------------------------

    $(document).ready(function () {
        input_fields_width_align();
    });

    $(window).resize(function () {
        input_fields_width_align();
    });

</script>

</body>
</html>